#summary OpenPGM 2 : C Reference : pgm_snmp_init()
#labels Phase-Implementation

_Function_
=== Declaration ===
<pre>
#include <pgm/snmp.h>

[http://library.gnome.org/devel/glib/stable/glib-Basic-Types.html#gboolean gboolean] *pgm_snmp_init* (
        [http://library.gnome.org/devel/glib/stable/glib-Error-Reporting.html#GError GError]`*``*`     error
	);
</pre>

=== Purpose ===
Create and start a SNMP agent or master agent.

=== Remarks ===
The included PGM MIB <tt>PGM-MIB-petrova-01.txt</tt> should be installed in the NET-SNMP MIB directory, and the <tt>snmpd</tt> started and configured appropriately before calling this function.

Example <tt>snmpd.conf</tt>:
<pre>
 com2sec readonly  default         public
 
 group MyROSystem v1        paranoid
 group MyROSystem v2c       paranoid
 group MyROSystem usm       paranoid
 group MyROGroup v1         readonly
 group MyROGroup v2c        readonly
 group MyROGroup usm        readonly
 group MyRWGroup v1         readwrite
 group MyRWGroup v2c        readwrite
 group MyRWGroup usm        readwrite
 
 view all    included  .1                               80
 view system included  .iso.org.dod.internet.mgmt.mib-2.system
 
 access MyROSystem ""     any       noauth    exact  system none   none
 access MyROGroup ""      any       noauth    exact  all    none   none
 access MyRWGroup ""      any       noauth    exact  all    all    none
 
 syslocation Unknown (configure /etc/snmp/snmpd.local.conf)
 syscontact Root <root@localhost> (configure /etc/snmp/snmpd.local.conf)
 
 master  agentx
</pre>

=== Parameters ===

<table border="1" cellpadding="5" cellspacing="0">
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
<tr>
<td><tt>err</tt></td>
<td>a return location for a [http://library.gnome.org/devel/glib/stable/glib-Error-Reporting.html#GError GError], or [http://library.gnome.org/devel/glib/stable/glib-Standard-Macros.html#NULL--CAPS NULL].</td>
</tr>
</table>


=== Return Value ===
On success, [http://library.gnome.org/devel/glib/stable/glib-Standard-Macros.html#TRUE--CAPS TRUE] is returned.  On error, [http://library.gnome.org/devel/glib/stable/glib-Standard-Macros.html#FALSE--CAPS FALSE] is returned.  If <tt>err</tt> is provided it may be set detailing any threading or issue connecting to the SNMP agent or daemon.  SNMP errors will be reported to its log system.

=== Example ===

{{{
 GError* err = NULL;
 if (!pgm_snmp_init (&err)) {
   g_error ("Unable to start SNMP interface: %s", err->message);
   g_error_free (err);
   return EXIT_FAILURE;
 }
}}}

=== See Also ===
  * <tt>[OpenPgm2CReferencePgmSnmpShutdown pgm_snmp_shutdown()]</tt><br>
  * <tt>[OpenPgm2CReferencePgmHttpInit pgm_http_init()]</tt><br>
  * <tt>[OpenPgm2CReferencePgmInit pgm_init()]</tt><br>
  * [OpenPgm2CReferenceMonitoringAndAdministration Monitoring and Administration] in OpenPGM C Reference.<br>
  * [http://library.gnome.org/devel/glib/stable/glib-Error-Reporting.html GLib Error Reporting].<br>
  * [http://net-snmp.sourceforge.net/docs/readmefiles.html Net-SNMP Documentation].
