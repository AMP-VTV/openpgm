#summary OpenPGM 2 : C Reference : pgm_transport_set_max_tpdu()
#labels Phase-Implementation

_Function_
=== Declaration ===
<pre>
#include <pgm/pgm.h>

[http://library.gnome.org/devel/glib/stable/glib-Basic-Types.html#gboolean gboolean] *pgm_transport_set_max_tpdu* (
	[OpenPgm2CReferencePgmTransportT pgm_transport_t]`*`     transport,
	[http://library.gnome.org/devel/glib/stable/glib-Basic-Types.html#guint16 guint16]      max_tpdu
	);
</pre>

=== Purpose ===
Set maximum transport data unit size.

=== Remarks ===
The maximum transport protocol data unit (TPDU) size is equivalent to the raw packet frame size, usually matching the systems maximum transmission unit (MTU) typically 1,500 bytes for ethernet to 9,000 for common jumbo-frames.  This value might be lowered in certain environments to support framing extensions such as [http://en.wikipedia.org/wiki/802.2 802.2 SNAP LLC].

When enabling UDP encapsulation remember to include the datagram header size for the data unit size, standard sizes are 20 bytes for IPv4 and 48 bytes for IPv6.

The default maximum TPDU size in TIBCO Rendezvous PGM is 1492 bytes.

The actual maximum application protocol data unit (APDU) size per packet varies with the PGM options in effect, the following table shows the reductions in size that can occur.


<table border="1" cellpadding="5" cellspacing="0">
<tr>
<th>Size</th>
<th>Description</th>
</tr>
<tr>
<td>-8 bytes</td>
<td>802.2 SNAP LLC header for subnets.</td>
</tr><tr>
<td>-20 bytes</td>
<td>UDP encapsulation header.</td>
</tr><tr>
<td>-24 bytes</td>
<td>PGM Data Packet header.</td>
</tr><tr>
<td colspan="2"><h3>Option Extensions</h3></td>
</tr><tr>
<td>-4 bytes</td>
<td>Option extension length.</td>
</tr><tr>
<td>-16 bytes</td>
<td>Fragmentation Option. &dagger;</td>
</tr><tr>
<td>-8 bytes</td>
<td>Late Joining Option. &Dagger;</td>
</tr><tr>
<td>-4 bytes</td>
<td>Synchronisation Option (first packet and its repairs). &Dagger;</td>
</tr><tr>
<td>-4 bytes</td>
<td>Session Finish Option (last packet and its repairs). &Dagger;</td>
</tr><tr>
<td>-8 bytes</td>
<td>Parity Group Number Option. &sect;</td>
</tr><tr>
<td>-8 bytes</td>
<td>Actual Transmission Group Size Option. &sect; &Dagger;</td>
</tr><tr>
<td>-2 bytes</td>
<td>Variable TSDU length encoding for parity packets &dagger;</td>
</tr><tr>
<td>'''-102 bytes'''</td>
<td>'''Worst case overhead.'''</td>
</tr>
</table>


<dl><dt>&dagger;</dt><dd>For APDUs greater than one TPDU in length, the per packet overhead is increased.
</dd><dt>&Dagger;</dt><dd>Not implemented.
</dd><dt>&sect;</dt><dd>When Forward-Error Correction is enabled.
</dd></dl>

=== Parameters ===
<table border="1" cellpadding="5" cellspacing="0">
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
<tr>
<td><tt>transport</tt></td>
<td>The PGM transport object.</td>
</tr><tr>
<td><tt>max_tpdu</tt></td>
<td>Maximum transport protocol data unit (TPDU) size.</td>
</tr>
</table>


=== Return Value ===
On success, returns <tt>[http://library.gnome.org/devel/glib/stable/glib-Standard-Macros.html#TRUE--CAPS TRUE]</tt>.  On invalid parameter, returns <tt>[http://library.gnome.org/devel/glib/stable/glib-Standard-Macros.html#FALSE--CAPS FALSE]</tt>.

=== Example ===
{{{
 pgm_transport_set_max_tpdu (transport, 1500);
}}}

=== See Also ===
  * <tt>[OpenPgm2CReferencePgmTransportT pgm_transport_t]</tt><br>
  * [OpenPgm2CReferencePgmTransport Transport] in OpenPGM C Reference.<br>
  * [http://en.wikipedia.org/wiki/802.2 IEEE 802.2] in Wikipedia.<br>
  * [http://en.wikipedia.org/wiki/Jumbo_frame Jumbo frame] in Wikipedia.<br>
  * [http://en.wikipedia.org/wiki/Maximum_transmission_unit Maximum transmission unit] in Wikipedia.
